import{_ as s,o as n,c as a,Q as p}from"./chunks/framework.4719a631.js";const l="/assets/npm-init.845f4a62.jpg",o="/assets/nrm-ls.6809d564.jpg",e="/assets/npm-login.3a6fa00c.jpg",u=JSON.parse('{"title":"NPM包的发布","description":"","frontmatter":{},"headers":[],"relativePath":"share/npmPackage.md","filePath":"share/npmPackage.md"}'),c={name:"share/npmPackage.md"},t=p(`<h1 id="npm包的发布" tabindex="-1">NPM包的发布 <a class="header-anchor" href="#npm包的发布" aria-label="Permalink to &quot;NPM包的发布&quot;">​</a></h1><h2 id="_1-想象中的npm包发布操作" tabindex="-1">1. 想象中的npm包发布操作 <a class="header-anchor" href="#_1-想象中的npm包发布操作" aria-label="Permalink to &quot;1. 想象中的npm包发布操作&quot;">​</a></h2><ul><li>初始化package.json, <code>npm init</code></li><li>登录npm,设置用户名和邮箱, <code>npm login</code></li><li>设置npm源, <code>npm config set registry</code></li><li>修改package.json文件name version</li><li>发布，<code>npm publish</code></li></ul><p>结束，撒花🎉</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">login</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">registry</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://registry.npmjs.org/</span></span>
<span class="line"><span style="color:#6A737D;"># version: 1.0.0 -&gt; 1.0.1 </span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">publish</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">login</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">registry</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://registry.npmjs.org/</span></span>
<span class="line"><span style="color:#6A737D;"># version: 1.0.0 -&gt; 1.0.1 </span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">publish</span></span></code></pre></div><p><img src="`+l+`" alt="npm-init"></p><p>好像是这么一回事，但是能拿到项目中实战会这么粗糙吗？</p><h2 id="_2-nrm介绍" tabindex="-1">2. nrm介绍 <a class="header-anchor" href="#_2-nrm介绍" aria-label="Permalink to &quot;2. nrm介绍&quot;">​</a></h2><p>nrm（NPM registry manager）是一个npm源管理工具，可以用来切换npm源，也可以用来查看npm源的地址。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 安装nrm</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nrm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 列出npm源</span></span>
<span class="line"><span style="color:#B392F0;">nrm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 切换npm源 </span></span>
<span class="line"><span style="color:#6A737D;"># nrm use &lt;registry&gt;</span></span>
<span class="line"><span style="color:#B392F0;">nrm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">use</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">cnpm</span><span style="color:#E1E4E8;">  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 新增npm源 </span></span>
<span class="line"><span style="color:#6A737D;"># nrm add &lt;registry&gt; &lt;url&gt; [home]</span></span>
<span class="line"><span style="color:#B392F0;">nrm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">kye</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://npm.company.com/</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 删除npm源</span></span>
<span class="line"><span style="color:#6A737D;"># nrm del &lt;registry&gt;</span></span>
<span class="line"><span style="color:#B392F0;">nrm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">del</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">kye</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 安装nrm</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nrm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span><span style="color:#24292E;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 列出npm源</span></span>
<span class="line"><span style="color:#6F42C1;">nrm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span><span style="color:#24292E;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 切换npm源 </span></span>
<span class="line"><span style="color:#6A737D;"># nrm use &lt;registry&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">nrm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">use</span><span style="color:#24292E;"> </span><span style="color:#032F62;">cnpm</span><span style="color:#24292E;">  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 新增npm源 </span></span>
<span class="line"><span style="color:#6A737D;"># nrm add &lt;registry&gt; &lt;url&gt; [home]</span></span>
<span class="line"><span style="color:#6F42C1;">nrm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">kye</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://npm.company.com/</span><span style="color:#24292E;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 删除npm源</span></span>
<span class="line"><span style="color:#6A737D;"># nrm del &lt;registry&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">nrm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">del</span><span style="color:#24292E;"> </span><span style="color:#032F62;">kye</span></span></code></pre></div><p><img src="`+o+'" alt="nrm-ls"></p><h2 id="_3-登陆npm" tabindex="-1">3. 登陆npm <a class="header-anchor" href="#_3-登陆npm" aria-label="Permalink to &quot;3. 登陆npm&quot;">​</a></h2><p>没有帐号则需要先去 npm官网[<a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">https://www.npmjs.com/</a>]注册一个账号。 然后执行命令登陆</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">login</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">login</span></span></code></pre></div><p><img src="'+e+`" alt="npm-login"></p><h2 id="_4-发布npm包" tabindex="-1">4. 发布npm包 <a class="header-anchor" href="#_4-发布npm包" aria-label="Permalink to &quot;4. 发布npm包&quot;">​</a></h2><p>需要在package.json中添加name、version、description等字段，然后执行命令</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">publish</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">publish</span></span></code></pre></div><h2 id="_5-安装npm包" tabindex="-1">5. 安装npm包 <a class="header-anchor" href="#_5-安装npm包" aria-label="Permalink to &quot;5. 安装npm包&quot;">​</a></h2><p>切换到需要安装的包的目录，执行命令</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">package-name</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">package-name</span></span></code></pre></div><h2 id="_6-升级npm包版本" tabindex="-1">6. 升级npm包版本 <a class="header-anchor" href="#_6-升级npm包版本" aria-label="Permalink to &quot;6. 升级npm包版本&quot;">​</a></h2><p>如若该包进行更新后，需要再次发包，可 npm version 控制该版本进行升级，记住需要遵守 Semver 规范: <a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noreferrer">https://semver.org/lang/zh-CN/</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 增加一个修复版本号: 1.0.1 -&gt; 1.0.2 (自动更改 package.json 中的 version 字段)</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">patch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 增加一个小的版本号: 1.0.1 -&gt; 1.1.0 (自动更改 package.json 中的 version 字段)</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">minor</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 将更新后的包发布到 npm 中</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">publish</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 增加一个修复版本号: 1.0.1 -&gt; 1.0.2 (自动更改 package.json 中的 version 字段)</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span><span style="color:#24292E;"> </span><span style="color:#032F62;">patch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 增加一个小的版本号: 1.0.1 -&gt; 1.1.0 (自动更改 package.json 中的 version 字段)</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span><span style="color:#24292E;"> </span><span style="color:#032F62;">minor</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 将更新后的包发布到 npm 中</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">publish</span></span></code></pre></div><h2 id="项目中使用" tabindex="-1">项目中使用 <a class="header-anchor" href="#项目中使用" aria-label="Permalink to &quot;项目中使用&quot;">​</a></h2>`,25),r=[t];function i(y,E,m,d,h,F){return n(),a("div",null,r)}const C=s(c,[["render",i]]);export{u as __pageData,C as default};
