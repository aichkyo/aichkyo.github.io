import{_ as s}from"./chunks/npm-login.6f4b7a5b.js";import{_ as n,o as a,c as p,Q as l}from"./chunks/framework.4719a631.js";const m=JSON.parse('{"title":"发布npm包","description":"","frontmatter":{},"headers":[],"relativePath":"share/hroa-ui/发布npm包.md","filePath":"share/hroa-ui/发布npm包.md"}'),o={name:"share/hroa-ui/发布npm包.md"},e=l(`<h1 id="发布npm包" tabindex="-1">发布npm包 <a class="header-anchor" href="#发布npm包" aria-label="Permalink to &quot;发布npm包&quot;">​</a></h1><h2 id="_1-切换镜像源" tabindex="-1">1.切换镜像源 <a class="header-anchor" href="#_1-切换镜像源" aria-label="Permalink to &quot;1.切换镜像源&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 原始方式</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">registry</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://registry.npmjs.org/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># nrm包管理工具</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 列出npm源</span></span>
<span class="line"><span style="color:#B392F0;">nrm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 使用npm官方源</span></span>
<span class="line"><span style="color:#B392F0;">nrm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">use</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 原始方式</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">registry</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://registry.npmjs.org/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># nrm包管理工具</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 列出npm源</span></span>
<span class="line"><span style="color:#6F42C1;">nrm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span><span style="color:#24292E;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 使用npm官方源</span></span>
<span class="line"><span style="color:#6F42C1;">nrm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">use</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm</span></span></code></pre></div><h2 id="_2-package-json" tabindex="-1">2.package.json <a class="header-anchor" href="#_2-package-json" aria-label="Permalink to &quot;2.package.json&quot;">​</a></h2><p>项目没有package.json,需要 <code>npm init -y</code></p><h2 id="_3-登陆npm" tabindex="-1">3. 登陆npm <a class="header-anchor" href="#_3-登陆npm" aria-label="Permalink to &quot;3. 登陆npm&quot;">​</a></h2><p>没有帐号则需要先去 <a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npm官网</a>注册一个账号。 然后执行命令登陆</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">login</span></span>
<span class="line"><span style="color:#6A737D;"># 输入 账号</span></span>
<span class="line"><span style="color:#6A737D;"># 输入 密码</span></span>
<span class="line"><span style="color:#6A737D;"># 输入 验证码</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">login</span></span>
<span class="line"><span style="color:#6A737D;"># 输入 账号</span></span>
<span class="line"><span style="color:#6A737D;"># 输入 密码</span></span>
<span class="line"><span style="color:#6A737D;"># 输入 验证码</span></span></code></pre></div><p><img src="`+s+`" alt="npm-login"></p><h2 id="_4-升级包版本" tabindex="-1">4. 升级包版本 <a class="header-anchor" href="#_4-升级包版本" aria-label="Permalink to &quot;4. 升级包版本&quot;">​</a></h2><p>如若该包进行更新后，需要再次发包，可 npm version 控制该版本进行升级，记住需要遵守 <a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noreferrer">Semver 规范</a>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 增加一个修复版本号: 1.0.1 -&gt; 1.0.2 (自动更改 package.json 中的 version 字段)</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">patch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 增加一个小的版本号: 1.0.1 -&gt; 1.1.0 (自动更改 package.json 中的 version 字段)</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">minor</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 增加一个修复版本号: 1.0.1 -&gt; 1.0.2 (自动更改 package.json 中的 version 字段)</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span><span style="color:#24292E;"> </span><span style="color:#032F62;">patch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 增加一个小的版本号: 1.0.1 -&gt; 1.1.0 (自动更改 package.json 中的 version 字段)</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span><span style="color:#24292E;"> </span><span style="color:#032F62;">minor</span></span></code></pre></div><h2 id="_5-发布npm包" tabindex="-1">5. 发布npm包 <a class="header-anchor" href="#_5-发布npm包" aria-label="Permalink to &quot;5. 发布npm包&quot;">​</a></h2><p>需要在package.json中添加name、version、description等字段，然后执行命令</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;hroa-ui&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 包名</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;version&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0.0</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;main&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;./dist/hrui.common.js&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 指定项目的入口文件地址</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;description&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;hroa-ui 是我们的组件库&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 关于这个包的描述文件</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;files&quot;</span><span style="color:#E1E4E8;">: [ </span><span style="color:#6A737D;">// 发布包需要带上文件，否则会根据.gitignore、.npmignore忽略掉文件</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;dist&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;examples&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;packages&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;prepublishOnly&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;npm run lib&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 执行npm publish的前置钩子(可配置)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">...</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;hroa-ui&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 包名</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;version&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0.0</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;main&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;./dist/hrui.common.js&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 指定项目的入口文件地址</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;description&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;hroa-ui 是我们的组件库&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 关于这个包的描述文件</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;files&quot;</span><span style="color:#24292E;">: [ </span><span style="color:#6A737D;">// 发布包需要带上文件，否则会根据.gitignore、.npmignore忽略掉文件</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;dist&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;examples&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;packages&quot;</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;prepublishOnly&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;npm run lib&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 执行npm publish的前置钩子(可配置)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">publish</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">publish</span></span></code></pre></div><h2 id="_6-拓展" tabindex="-1">6.拓展 <a class="header-anchor" href="#_6-拓展" aria-label="Permalink to &quot;6.拓展&quot;">​</a></h2><p>changelog 是手动档还是选择用工具生成</p>`,18),t=[e];function c(r,i,y,E,h,u){return a(),p("div",null,t)}const g=n(o,[["render",c]]);export{m as __pageData,g as default};
